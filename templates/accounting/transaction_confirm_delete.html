{% extends 'accounting/base.html' %}

{% block title %}Eliminar Transacción - Software Contable{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2>⚠️ Confirmar Eliminación</h2>
        <a href="{% url 'transaction_list' %}" class="btn btn-secondary">← Volver</a>
    </div>
    
    <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
        <strong>¿Estás seguro de que deseas eliminar esta transacción?</strong>
        <p style="margin-top: 0.5rem; color: #856404;">Esta acción no se puede deshacer y el saldo de la cuenta se actualizará automáticamente.</p>
    </div>
    
    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
        <h3 style="margin-bottom: 1rem;">Detalles de la Transacción:</h3>
        <table style="width: 100%;">
            <tr>
                <td style="padding: 0.5rem; font-weight: 600;">Descripción:</td>
                <td style="padding: 0.5rem;">{{ transaction.description }}</td>
            </tr>
            <tr>
                <td style="padding: 0.5rem; font-weight: 600;">Tipo:</td>
                <td style="padding: 0.5rem;">
                    {% if transaction.transaction_type == 'INCOME' %}
                    <span class="badge badge-income">Ingreso</span>
                    {% else %}
                    <span class="badge badge-expense">Gasto</span>
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td style="padding: 0.5rem; font-weight: 600;">Monto:</td>
                <td style="padding: 0.5rem; font-weight: bold; font-size: 1.2rem; {% if transaction.transaction_type == 'INCOME' %}color: #28a745;{% else %}color: #dc3545;{% endif %}">
                    {% if transaction.transaction_type == 'INCOME' %}+{% else %}-{% endif %}${{ transaction.amount|floatformat:2 }}
                </td>
            </tr>
            <tr>
                <td style="padding: 0.5rem; font-weight: 600;">Cuenta:</td>
                <td style="padding: 0.5rem;">{{ transaction.account.name }}</td>
            </tr>
            <tr>
                <td style="padding: 0.5rem; font-weight: 600;">Categoría:</td>
                <td style="padding: 0.5rem;">{{ transaction.category.name }}</td>
            </tr>
            <tr>
                <td style="padding: 0.5rem; font-weight: 600;">Fecha:</td>
                <td style="padding: 0.5rem;">{{ transaction.transaction_date|date:"d/m/Y" }}</td>
            </tr>
            {% if transaction.notes %}
            <tr>
                <td style="padding: 0.5rem; font-weight: 600;">Notas:</td>
                <td style="padding: 0.5rem;">{{ transaction.notes }}</td>
            </tr>
            {% endif %}
        </table>
    </div>
    
    <form method="post">
        {% csrf_token %}
        <div style="display: flex; gap: 1rem;">
            <button type="submit" class="btn btn-danger">Sí, Eliminar Transacción</button>
            <a href="{% url 'transaction_list' %}" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
</div>
{% endblock %}
